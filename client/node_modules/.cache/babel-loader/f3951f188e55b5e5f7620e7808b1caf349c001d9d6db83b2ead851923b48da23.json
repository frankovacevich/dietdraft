{"ast":null,"code":"export default {\n  data() {\n    return {\n      holdStartTimestamp: 0\n    };\n  },\n  props: {\n    name: {\n      type: String,\n      default: \"Food name\"\n    },\n    icon: {\n      type: String,\n      default: \"egg\"\n    },\n    description: {\n      type: String,\n      default: \"\"\n    },\n    protein: {\n      type: Number,\n      default: 0\n    },\n    fat: {\n      type: Number,\n      default: 0\n    },\n    carbs: {\n      type: Number,\n      default: 0\n    },\n    amount: {\n      type: Number,\n      default: undefined\n    },\n    selected: {\n      type: Boolean,\n      default: false\n    },\n    crossed: {\n      type: Boolean,\n      default: false\n    },\n    editing: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    calories() {\n      return 9 * this.fat + 4 * this.protein + 4 * this.carbs;\n    },\n    resolveImg(image) {\n      return `./food/${image}.svg`;\n    }\n  },\n  methods: {\n    heldLongEnough() {\n      const now = new Date().getTime();\n      const holdThreshold = 500; // 500 milliseconds\n      return now - this.holdStartTimestamp > holdThreshold;\n    },\n    holdStart() {\n      this.holdStartTimestamp = new Date().getTime();\n    },\n    holdEnd() {\n      if (this.heldLongEnough()) {\n        this.$emit(\"hold\");\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","holdStartTimestamp","props","name","type","String","default","icon","description","protein","Number","fat","carbs","amount","undefined","selected","Boolean","crossed","editing","computed","calories","resolveImg","image","methods","heldLongEnough","now","Date","getTime","holdThreshold","holdStart","holdEnd","$emit"],"sources":["/home/x/workspace/01-diet-draft/client/src/components/FoodItem.vue"],"sourcesContent":["<script>\nexport default {\n  data() {\n    return {\n      holdStartTimestamp: 0,\n    };\n  },\n\n  props: {\n    name: { type: String, default: \"Food name\" },\n    icon: { type: String, default: \"egg\" },\n    description: { type: String, default: \"\" },\n    protein: { type: Number, default: 0 },\n    fat: { type: Number, default: 0 },\n    carbs: { type: Number, default: 0 },\n    amount: { type: Number, default: undefined },\n    selected: { type: Boolean, default: false },\n    crossed: { type: Boolean, default: false },\n    editing: { type: Boolean, default: false },\n  },\n\n  computed: {\n    calories() {\n      return 9 * this.fat + 4 * this.protein + 4 * this.carbs;\n    },\n\n    resolveImg(image) {\n      return `./food/${image}.svg`;\n    },\n  },\n\n  methods: {\n    heldLongEnough() {\n      const now = new Date().getTime();\n      const holdThreshold = 500; // 500 milliseconds\n      return now - this.holdStartTimestamp > holdThreshold;\n    },\n\n    holdStart() {\n      this.holdStartTimestamp = new Date().getTime();\n    },\n\n    holdEnd() {\n      if (this.heldLongEnough()) {\n        this.$emit(\"hold\");\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"food-item\">\n    <div class=\"food-icon\">\n      <img src=\"/food/egg.svg\" />\n    </div>\n    <div v-if=\"amount\" class=\"food-amount\">\n      {{ amount }}\n    </div>\n    <div class=\"food-name\">\n      <span>{{ name }}</span>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.food-item {\n  background-color: var(--color-gray-0);\n  border-radius: 8px;\n\n  width: 100%;\n  height: 36px;\n\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: stretch;\n  position: relative;\n  box-sizing: border-box;\n}\n\n.food-item.selected {\n  outline: 3px solid var(--color-primary);\n  outline-offset: -3px;\n}\n\n.food-item.crossed {\n  text-decoration: line-through;\n}\n\n.food-icon img {\n  width: 22px;\n  height: 22px;\n  padding: 8px;\n}\n</style>\n"],"mappings":"AACA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,kBAAkB,EAAE;IACtB,CAAC;EACH,CAAC;EAEDC,KAAK,EAAE;IACLC,IAAI,EAAE;MAAEC,IAAI,EAAEC,MAAM;MAAEC,OAAO,EAAE;IAAY,CAAC;IAC5CC,IAAI,EAAE;MAAEH,IAAI,EAAEC,MAAM;MAAEC,OAAO,EAAE;IAAM,CAAC;IACtCE,WAAW,EAAE;MAAEJ,IAAI,EAAEC,MAAM;MAAEC,OAAO,EAAE;IAAG,CAAC;IAC1CG,OAAO,EAAE;MAAEL,IAAI,EAAEM,MAAM;MAAEJ,OAAO,EAAE;IAAE,CAAC;IACrCK,GAAG,EAAE;MAAEP,IAAI,EAAEM,MAAM;MAAEJ,OAAO,EAAE;IAAE,CAAC;IACjCM,KAAK,EAAE;MAAER,IAAI,EAAEM,MAAM;MAAEJ,OAAO,EAAE;IAAE,CAAC;IACnCO,MAAM,EAAE;MAAET,IAAI,EAAEM,MAAM;MAAEJ,OAAO,EAAEQ;IAAU,CAAC;IAC5CC,QAAQ,EAAE;MAAEX,IAAI,EAAEY,OAAO;MAAEV,OAAO,EAAE;IAAM,CAAC;IAC3CW,OAAO,EAAE;MAAEb,IAAI,EAAEY,OAAO;MAAEV,OAAO,EAAE;IAAM,CAAC;IAC1CY,OAAO,EAAE;MAAEd,IAAI,EAAEY,OAAO;MAAEV,OAAO,EAAE;IAAM;EAC3C,CAAC;EAEDa,QAAQ,EAAE;IACRC,QAAQA,CAAA,EAAG;MACT,OAAO,IAAI,IAAI,CAACT,GAAE,GAAI,IAAI,IAAI,CAACF,OAAM,GAAI,IAAI,IAAI,CAACG,KAAK;IACzD,CAAC;IAEDS,UAAUA,CAACC,KAAK,EAAE;MAChB,OAAQ,UAASA,KAAM,MAAK;IAC9B;EACF,CAAC;EAEDC,OAAO,EAAE;IACPC,cAAcA,CAAA,EAAG;MACf,MAAMC,GAAE,GAAI,IAAIC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;MAChC,MAAMC,aAAY,GAAI,GAAG,EAAE;MAC3B,OAAOH,GAAE,GAAI,IAAI,CAACxB,kBAAiB,GAAI2B,aAAa;IACtD,CAAC;IAEDC,SAASA,CAAA,EAAG;MACV,IAAI,CAAC5B,kBAAiB,GAAI,IAAIyB,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;IAChD,CAAC;IAEDG,OAAOA,CAAA,EAAG;MACR,IAAI,IAAI,CAACN,cAAc,CAAC,CAAC,EAAE;QACzB,IAAI,CAACO,KAAK,CAAC,MAAM,CAAC;MACpB;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}