<script setup lang="ts">
import Title from "../components/Title.vue";
import InfoPanel from "../components/InfoPanel.vue";
import Day from "../components/Day.vue";
import { mainStore } from "@/store";
const store = mainStore();
const totals = store.todaysQuantities;
const requirements = store.planInfo;
</script>

<template>
  <Title>
    <template v-slot:right-icon>
      <font-awesome-icon icon="fa-solid fa-map" />
    </template>
  </Title>

  <div class="main-container">
    <div class="main-info-panel-container">
      <InfoPanel
        :protein="totals.protein"
        :fat="totals.fat"
        :carbs="totals.carbs"
        :protein-setpoint="requirements.proteinSetpoint"
        :fat-setpoint="requirements.fatSetpoint"
        :carbs-setpoint="requirements.carbsSetpoint"
      />
    </div>
    <div class="main-day-container">
      <Day />
    </div>
  </div>
</template>

<style>
.main-container {
  left: 0;
  bottom: 0;
  top: 54px;
  right: 0;
  position: fixed;
  overflow-x: hidden;
  overflow-y: scroll;
  box-sizing: border-box;
  background-color: var(--color-background);
}

.main-info-panel-container {
  position: sticky;
  top: 0px;
  padding: 20px;
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
  text-align: center;
  background-color: var(--color-background);
  box-shadow: 0px 20px 20px -20px var(--color-gray-1);
  z-index: 10;
}

.main-day-container {
  padding: 20px;
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
  z-index: 5;
}
</style>
