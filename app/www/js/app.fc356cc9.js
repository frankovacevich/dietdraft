(function(){"use strict";var t={2103:function(t,e,a){a.d(e,{E:function(){return ft}});var o=a(3396),n=a(4870),r=a(2483);function i(t,e,a,n,r,i){const l=(0,o.up)("font-awesome-icon"),s=(0,o.up)("SwipeBottomNavigation");return(0,o.wg)(),(0,o.j4)(s,{options:t.options,modelValue:t.selected,"onUpdate:modelValue":e[0]||(e[0]=e=>t.selected=e),"swiper-color":t.colors.text,"icon-color":t.colors.text,"background-color":t.colors.background},{icon:(0,o.w5)((({props:t})=>[(0,o.Wm)(l,{icon:t.icon},null,8,["icon"])])),_:1},8,["options","modelValue","swiper-color","icon-color","background-color"])}var l=a(4760),s={components:{SwipeBottomNavigation:l.gE},data:()=>({selected:1,colors:{text:ft("--color-text"),background:ft("--color-gray-0")},options:[{id:1,icon:"fa-solid fa-utensils",title:"Menu",path:{name:"menu"}},{id:2,icon:"fa-solid fa-calendar",title:"Plan",path:{name:"plan"}},{id:3,icon:"fa-solid fa-cart-shopping",title:"List",path:{name:"list"}}]})},c=a(89);const d=(0,c.Z)(s,[["render",i]]);var u=d,p={__name:"App",setup(t){return(t,e)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)((0,n.SU)(r.MA)),(0,o.Wm)(u)],64))}};const f=p;var g=f,m=a(9242),v=a(7139);const h={class:"title-bar"};function y(t,e){return(0,o.wg)(),(0,o.iD)("div",h,[(0,o.WI)(t.$slots,"default")])}const b={},w=(0,c.Z)(b,[["render",y]]);var _=w;const S={class:"main-container"};function T(t,e){return(0,o.wg)(),(0,o.iD)("div",S,[(0,o.WI)(t.$slots,"default",{},void 0,!0)])}const I={},x=(0,c.Z)(I,[["render",T],["__scopeId","data-v-32c1e0ee"]]);var k=x;const N=["src"];function D(t,e,a,n,r,i){return(0,o.wg)(),(0,o.iD)("div",{class:(0,v.C_)(["food-item",{selected:a.selected}]),onClick:e[0]||(e[0]=t=>i.click())},[(0,o._)("div",{class:(0,v.C_)(["food-icon",{crossed:a.crossed}])},[(0,o._)("img",{src:i.resolveImg(a.icon)},null,8,N)],2),(0,o._)("div",{class:(0,v.C_)(["food-name",{crossed:a.crossed}])},[(0,o._)("span",null,(0,v.zw)(i.displayName),1)],2)],2)}var F={data(){return{holdStartTimestamp:0}},props:{name:{type:String,default:"Food name"},icon:{type:String,default:"egg"},description:{type:String,default:""},protein:{type:Number,default:0},fat:{type:Number,default:0},carbs:{type:Number,default:0},amount:{type:Number,default:void 0},selected:{type:Boolean,default:!1},crossed:{type:Boolean,default:!1},editing:{type:Boolean,default:!1}},computed:{calories(){return 9*this.fat+4*this.protein+4*this.carbs},displayName(){return this.name.charAt(0).toUpperCase()+this.name.slice(1)}},methods:{resolveImg(t){return`/food/${t}.svg`},heldLongEnough(){const t=(new Date).getTime(),e=500;return t-this.holdStartTimestamp>e},holdStart(){this.holdStartTimestamp=(new Date).getTime()},holdEnd(){this.heldLongEnough()&&this.$emit("hold")},click(){this.$emit("click"),console.log(this.crossed)},amountClick(){}}};const U=(0,c.Z)(F,[["render",D],["__scopeId","data-v-156b58cb"]]);var C=U;const O={class:"main-container"};function P(t,e,a,n,r,i){return(0,o.wg)(),(0,o.iD)("div",O,[(0,o._)("div",null,(0,v.zw)(a.text),1),(0,o._)("div",null,[(0,o._)("span",{style:(0,v.j5)({color:i.displayColor})},(0,v.zw)(i.displayValue),5),(0,o.Uk)(" / "+(0,v.zw)(i.displayTarget),1)])])}var W={props:{text:{type:String,default:""},value:{type:Number,default:0},target:{type:Number,default:0}},computed:{valuePercentage(){return 0==this.target?0:100*this.value/this.target},displayColor(){return this.valuePercentage<85||this.valuePercentage>110?ft("--color-danger"):ft("--color-text")},displayValue(){return this.value.toFixed()},displayTarget(){return this.target.toFixed()}}};const j=(0,c.Z)(W,[["render",P],["__scopeId","data-v-26bf3a5e"]]);var M=j;const E={class:"container"},V={props:{protein:{type:Number,default:0},fat:{type:Number,default:0},carbs:{type:Number,default:0},proteinTarget:{type:Number,default:0},fatTarget:{type:Number,default:0},carbsTarget:{type:Number,default:0},selected:{type:String,default:void 0}},computed:{calories(){return 9*this.fat+4*this.protein+4*this.carbs},caloriesTarget(){return 9*this.proteinTarget+4*this.fatTarget+4*this.carbsTarget}}};var B=Object.assign(V,{__name:"TotalsBars",setup(t){return(e,a)=>((0,o.wg)(),(0,o.iD)("div",E,[(0,o._)("div",null,[(0,o.Wm)(M,{text:"Protein",value:t.protein,target:t.proteinTarget},null,8,["value","target"])]),(0,o._)("div",null,[(0,o.Wm)(M,{text:"Fat",value:t.fat,target:t.fatTarget},null,8,["value","target"])]),(0,o._)("div",null,[(0,o.Wm)(M,{text:"Carbs",value:t.carbs,target:t.carbsTarget},null,8,["value","target"])]),(0,o._)("div",null,[(0,o.Wm)(M,{text:"Kcal",value:e.calories,target:e.caloriesTarget},null,8,["value","target"])])]))}});const A=(0,c.Z)(B,[["__scopeId","data-v-a6d29dfc"]]);var L=A,Z=(a(560),a(1020));const Q={all:"ALL",protein:"PROTEIN",fat:"FAT",carbs:"CARBS"},Y={protein:110,fat:105,carbs:100,days:1,calculationMethod:Q.all},z=(0,Z.Q_)("mainStore",{state:()=>({allFoods:[],planFoods:[],planInfo:null,day:0,editMode:!1}),getters:{todaysFoods(){return this.planFoods[this.day]},todaysQuantities(){const t={protein:0,fat:0,carbs:0};for(const e of this.planFoods[this.day])t.protein+=e.protein*(e.amount||0),t.fat+=e.fat*(e.amount||0),t.carbs+=e.carbs*(e.amount||0);return t},allPlanQuantities(){const t={protein:0,fat:0,carbs:0};for(let e=0;e<this.planFoods.length;e++)for(const a of this.planFoods[e])t.protein+=a.protein*(a.amount||0),t.fat+=a.fat*(a.amount||0),t.carbs+=a.carbs*(a.amount||0);return t}},actions:{save(){localStorage.setItem("planFoods",JSON.stringify(this.planFoods)),null!==this.planInfo&&localStorage.setItem("planInfo",JSON.stringify(this.planInfo))},load(){const t=localStorage.getItem("planInfo");this.planInfo=t?JSON.parse(t):{...Y,created:(new Date).getTime()};const e=localStorage.getItem("planFoods");if(e&&e.length===this.planInfo.days)this.planFoods=e;else{this.planFoods=[];for(let t=0;t<this.planInfo.days;t++)this.planFoods.push([])}},async fetchData(){const t=await fetch("/data.json");this.allFoods=await t.json()},goToPreviousDay(){0!==this.day&&this.day--},goToNextDay(){this.day!==this.planInfo.days-1&&this.day++},toggleEditMode(){this.editMode=!this.editMode}}}),H=(0,o._)("div",{style:{"flex-grow":"1"}},null,-1);var $={__name:"MainView",setup(t){const e=z();return(t,a)=>{const r=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(_,null,{default:(0,o.w5)((()=>[(0,o._)("div",null,"Day "+(0,v.zw)((0,n.SU)(e).day+1),1),H,(0,o._)("div",{class:"title-bar-icon",onClick:a[0]||(a[0]=(...t)=>(0,n.SU)(e).goToPreviousDay&&(0,n.SU)(e).goToPreviousDay(...t))},[(0,o.Wm)(r,{icon:"fa-solid fa-chevron-left"})]),(0,o._)("div",{class:"title-bar-icon",onClick:a[1]||(a[1]=(...t)=>(0,n.SU)(e).toggleEditMode&&(0,n.SU)(e).toggleEditMode(...t))},[(0,n.SU)(e).editMode?((0,o.wg)(),(0,o.j4)(r,{key:0,icon:"fa-solid fa-pen-to-square"})):(0,o.kq)("",!0),(0,n.SU)(e).editMode?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(r,{key:1,icon:"fa-regular fa-pen-to-square"}))]),(0,o._)("div",{class:"title-bar-icon",onClick:a[2]||(a[2]=(...t)=>(0,n.SU)(e).goToNextDay&&(0,n.SU)(e).goToNextDay(...t))},[(0,o.Wm)(r,{icon:"fa-solid fa-chevron-right"})])])),_:1}),(0,o.Wm)(k,null,{default:(0,o.w5)((()=>[(0,o.Wm)(L,{protein:(0,n.SU)(e).todaysQuantities.protein,fat:(0,n.SU)(e).todaysQuantities.fat,carbs:(0,n.SU)(e).todaysQuantities.carbs,proteinTarget:(0,n.SU)(e).planInfo.protein,fatTarget:(0,n.SU)(e).planInfo.fat,carbsTarget:(0,n.SU)(e).planInfo.carbs},null,8,["protein","fat","carbs","proteinTarget","fatTarget","carbsTarget"]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,n.SU)(e).allFoods,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{key:e},[(0,o.Wm)(C,{name:t.name,icon:t.icon,description:t.description,protein:t.protein,fat:t.fat,carbs:t.carbs,amount:t.amount,crossed:!0},null,8,["name","icon","description","protein","fat","carbs","amount"])])))),128))])),_:1})],64)}}};const q=$;var J=q;const K=(0,o._)("div",{style:{"flex-grow":"1"}},null,-1),R=(0,o._)("div",null,"Plan",-1),G=(0,o._)("div",{style:{"flex-grow":"1"}},null,-1);var X={__name:"PlanView",setup(t){return(t,e)=>((0,o.wg)(),(0,o.j4)(_,null,{default:(0,o.w5)((()=>[K,R,G])),_:1}))}};const tt=X;var et=tt;const at=(0,o._)("div",{style:{"flex-grow":"1"}},null,-1),ot=(0,o._)("div",null,"Shopping List",-1),nt=(0,o._)("div",{style:{"flex-grow":"1"}},null,-1);var rt={__name:"ListView",setup(t){return(t,e)=>((0,o.wg)(),(0,o.j4)(_,null,{default:(0,o.w5)((()=>[at,ot,nt])),_:1}))}};const it=rt;var lt=it,st=a(3494),ct=a(7749),dt=a(8539),ut=a(8429);const pt=(0,m.ri)(g),ft=t=>getComputedStyle(document.body).getPropertyValue(t),gt=[{path:"/",redirect:{name:"menu"}},{path:"/menu",name:"menu",component:J},{path:"/plan",name:"plan",component:et},{path:"/list",name:"list",component:lt}],mt=(0,r.p7)({history:(0,r.PO)(),routes:gt});pt.use(mt),pt.use(l.ZP),st.vI.add(dt.A35),st.vI.add(dt._tD),st.vI.add(dt.Wx7),st.vI.add(dt.S6C),st.vI.add(dt.fkH),st.vI.add(dt.mHK),st.vI.add(dt.fT7),st.vI.add(dt.yYj),st.vI.add(dt.Yai),st.vI.add(ut.Yai),pt.component("font-awesome-icon",ct.GN);const vt=(0,Z.WB)();pt.use(vt);const ht=z();ht.load(),ht.fetchData(),pt.mount("#app")}},e={};function a(o){var n=e[o];if(void 0!==n)return n.exports;var r=e[o]={exports:{}};return t[o].call(r.exports,r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,o,n,r){if(!o){var i=1/0;for(d=0;d<t.length;d++){o=t[d][0],n=t[d][1],r=t[d][2];for(var l=!0,s=0;s<o.length;s++)(!1&r||i>=r)&&Object.keys(a.O).every((function(t){return a.O[t](o[s])}))?o.splice(s--,1):(l=!1,r<i&&(i=r));if(l){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[o,n,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,o){var n,r,i=o[0],l=o[1],s=o[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(s)var d=s(a)}for(e&&e(o);c<i.length;c++)r=i[c],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(d)},o=self["webpackChunkclient"]=self["webpackChunkclient"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(2103)}));o=a.O(o)})();
//# sourceMappingURL=app.fc356cc9.js.map