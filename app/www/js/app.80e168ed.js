(function(){"use strict";var t={8081:function(t,e,o){o.d(e,{E:function(){return Dt}});var a=o(3396),n=o(4870),i=o(2483);function r(t,e,o,n,i,r){const s=(0,a.up)("font-awesome-icon"),l=(0,a.up)("SwipeBottomNavigation");return(0,a.wg)(),(0,a.j4)(l,{options:t.options,modelValue:t.selected,"onUpdate:modelValue":e[0]||(e[0]=e=>t.selected=e),"swiper-color":t.colors.text,"icon-color":t.colors.text,"background-color":t.colors.background},{icon:(0,a.w5)((({props:t})=>[(0,a.Wm)(s,{icon:t.icon},null,8,["icon"])])),_:1},8,["options","modelValue","swiper-color","icon-color","background-color"])}var s=o(4760),l={components:{SwipeBottomNavigation:s.gE},data:()=>({selected:1,colors:{text:Dt("--color-text"),background:Dt("--color-gray-0")},options:[{id:1,icon:"fa-solid fa-utensils",title:"Menu",path:{name:"menu"}},{id:2,icon:"fa-solid fa-calendar",title:"Plan",path:{name:"plan"}},{id:3,icon:"fa-solid fa-cart-shopping",title:"List",path:{name:"list"}}]})},c=o(89);const d=(0,c.Z)(l,[["render",r]]);var u=d,p={__name:"App",setup(t){return(t,e)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)((0,n.SU)(i.MA)),(0,a.Wm)(u)],64))}};const f=p;var g=f,h=o(9242),m=o(7139),v=o(6983),y=o.n(v);const b={class:"title-bar"};function _(t,e){return(0,a.wg)(),(0,a.iD)("div",b,[(0,a.WI)(t.$slots,"default")])}const w={},S=(0,c.Z)(w,[["render",_]]);var I=S;const k={class:"main-container"};function T(t,e){return(0,a.wg)(),(0,a.iD)("div",k,[(0,a.WI)(t.$slots,"default",{},void 0,!0)])}const D={},F=(0,c.Z)(D,[["render",T],["__scopeId","data-v-32c1e0ee"]]);var C=F;const U=t=>((0,a.dD)("data-v-3a412758"),t=t(),(0,a.Cn)(),t),x=["src"],N=U((()=>(0,a._)("div",{style:{"flex-grow":"1"}},null,-1))),M={key:0,class:"display-quantity"};function W(t,e,o,n,i,r){return(0,a.wg)(),(0,a.iD)("div",{class:(0,m.C_)(["food-item",{selected:o.selected}]),onClick:e[1]||(e[1]=t=>r.bodyClick()),draggable:"true"},[(0,a._)("div",{class:(0,m.C_)(["food-icon",{crossed:o.crossed}])},[(0,a._)("img",{src:r.resolveImg(o.icon)},null,8,x)],2),(0,a._)("div",{class:(0,m.C_)(["food-name",{crossed:o.crossed}])},[(0,a._)("span",null,(0,m.zw)(r.displayName),1)],2),N,o.displayQuantity?((0,a.wg)(),(0,a.iD)("div",M,[(0,a._)("span",null,(0,m.zw)(o.displayQuantity),1)])):(0,a.kq)("",!0),(0,a._)("div",{class:"food-amount",onClick:e[0]||(e[0]=t=>r.amountClick())},[(0,a._)("span",null,(0,m.zw)(o.amount),1)])],2)}var O={data(){return{holdStartTimestamp:0}},props:{name:{type:String,default:"Food name"},icon:{type:String,default:"egg"},description:{type:String,default:""},protein:{type:Number,default:0},fat:{type:Number,default:0},carbs:{type:Number,default:0},amount:{type:Number,default:void 0},selected:{type:Boolean,default:!1},crossed:{type:Boolean,default:!1},editing:{type:Boolean,default:!1},displayQuantity:{type:Number,default:void 0}},computed:{calories(){return 9*this.fat+4*this.protein+4*this.carbs},displayName(){return this.name.charAt(0).toUpperCase()+this.name.slice(1)}},methods:{resolveImg(t){return`/food/${t}.svg`},heldLongEnough(){const t=(new Date).getTime(),e=500;return t-this.holdStartTimestamp>e},holdStart(){this.holdStartTimestamp=(new Date).getTime()},holdEnd(){this.heldLongEnough()&&this.$emit("hold")},bodyClick(){this.$emit("bodyClick")},amountClick(){this.$emit("amountClick")}}};const P=(0,c.Z)(O,[["render",W],["__scopeId","data-v-3a412758"]]);var j=P;const E={class:"main-container"};function Z(t,e,o,n,i,r){return(0,a.wg)(),(0,a.iD)("div",E,[(0,a._)("div",null,(0,m.zw)(o.text),1),(0,a._)("div",null,[(0,a._)("span",{style:(0,m.j5)({color:r.displayColor})},(0,m.zw)(r.displayValue),5),(0,a.Uk)(" / "+(0,m.zw)(r.displayTarget),1)])])}var A={props:{text:{type:String,default:""},value:{type:Number,default:0},target:{type:Number,default:0}},computed:{valuePercentage(){return 0==this.target?0:100*this.value/this.target},displayColor(){return this.valuePercentage<85||this.valuePercentage>110?Dt("--color-danger"):Dt("--color-text")},displayValue(){return this.value.toFixed()},displayTarget(){return this.target.toFixed()}}};const z=(0,c.Z)(A,[["render",Z],["__scopeId","data-v-26bf3a5e"]]);var B=z;const Q={class:"container"},L={props:{protein:{type:Number,default:0},fat:{type:Number,default:0},carbs:{type:Number,default:0},proteinTarget:{type:Number,default:0},fatTarget:{type:Number,default:0},carbsTarget:{type:Number,default:0},selected:{type:String,default:void 0}},computed:{calories(){return 9*this.fat+4*this.protein+4*this.carbs},caloriesTarget(){return 9*this.proteinTarget+4*this.fatTarget+4*this.carbsTarget}}};var V=Object.assign(L,{__name:"TotalsBars",setup(t){return(e,o)=>((0,a.wg)(),(0,a.iD)("div",Q,[(0,a._)("div",null,[(0,a.Wm)(B,{text:"Protein",value:t.protein,target:t.proteinTarget},null,8,["value","target"])]),(0,a._)("div",null,[(0,a.Wm)(B,{text:"Fat",value:t.fat,target:t.fatTarget},null,8,["value","target"])]),(0,a._)("div",null,[(0,a.Wm)(B,{text:"Carbs",value:t.carbs,target:t.carbsTarget},null,8,["value","target"])]),(0,a._)("div",null,[(0,a.Wm)(B,{text:"Kcal",value:e.calories,target:e.caloriesTarget},null,8,["value","target"])])]))}});const q=(0,c.Z)(V,[["__scopeId","data-v-4b393198"]]);var $=q,Y=(o(560),o(1020)),H=o(7327);function J(t,e){if(e<=0||e>t.length)return console.error("Invalid sample size"),[];const o=[...t];for(let n=o.length-1;n>0;n--){const t=Math.floor(Math.random()*(n+1));[o[n],o[t]]=[o[t],o[n]]}const a=o.slice(0,e);return a}class K{constructor(){(0,H.Z)(this,"allFoods",void 0),(0,H.Z)(this,"protein",void 0),(0,H.Z)(this,"fat",void 0),(0,H.Z)(this,"carbs",void 0),(0,H.Z)(this,"calculationMethod",void 0),(0,H.Z)(this,"calculationError",void 0)}calculateDay(){const t=["breakfast","snack","lunch","dinner"],e=[];return t.forEach((()=>{const t=J(this.allFoods,3);for(const e of t)e.amount=1;e.push([...t])})),e}calculateDays(t){console.log(t)}}const R=["breakfast","snack","lunch","dinner"],G={all:"ALL",protein:"PROTEIN",fat:"FAT",carbs:"CARBS"},X={protein:110,fat:105,carbs:100,days:1,calculationMethod:G.all},tt=(0,Y.Q_)("mainStore",{state:()=>({allFoods:[],planFoods:[],planInfo:null,day:0,editMode:!0,selectedQuantity:"calories"}),getters:{todaysFoods(){return this.planFoods[this.day]},todayIsFirstDay(){return 0===this.day},todayIsLastDay(){return this.day===this.planInfo.days-1},todaysQuantities(){const t={protein:0,fat:0,carbs:0};for(const e of this.todaysFoods)for(const o of e)t.protein+=o.protein*(o.amount||0),t.fat+=o.fat*(o.amount||0),t.carbs+=o.carbs*(o.amount||0);return t},allPlanQuantities(){const t={protein:0,fat:0,carbs:0};for(let e=0;e<this.planFoods.length;e++)for(const o of this.planFoods[e])for(const e of o)t.protein+=e.protein*(e.amount||0),t.fat+=e.fat*(e.amount||0),t.carbs+=e.carbs*(e.amount||0);return t},calculator(){const t=new K;return t.allFoods=this.allFoods,t.protein=this.planInfo.protein,t.fat=this.planInfo.fat,t.carbs=this.planInfo.carbs,t.calculationMethod=this.planInfo.calculationMethod,t.calculationError=this.planInfo.calculationError,t}},actions:{save(){localStorage.setItem("planFoods",JSON.stringify(this.planFoods)),null!==this.planInfo&&localStorage.setItem("planInfo",JSON.stringify(this.planInfo))},load(){const t=localStorage.getItem("planInfo");this.planInfo=t?JSON.parse(t):{...X,created:(new Date).getTime()};const e=localStorage.getItem("planFoods");if(e&&(this.planFoods=JSON.parse(e),e.length===this.planInfo.days&&(this.planFoods=void 0)),!e){this.planFoods=[];for(let t=0;t<this.planInfo.days;t++)this.planFoods.push([]),this.planFoods.push([]),this.planFoods.push([]),this.planFoods.push([])}},async fetchData(){const t=await fetch("/data.json");this.allFoods=await t.json()},goToPreviousDay(){this.todayIsFirstDay||this.day--},goToNextDay(){this.todayIsLastDay||this.day++},toggleEditMode(){this.editMode=!this.editMode},recalculateToday(){const t=this.calculator.calculateDay();this.planFoods[this.day]=t,this.save()},changeFoodSelected(t){t.selected=!t.selected,this.save()},changeFoodAmount(t){const e={.25:.5,.5:.75,.75:1,1:1.25,1.25:1.5,1.5:.25};t.amount=e[t.amount]||1},foodDragStart(t,e){console.log(t,e)},foodDragEnd(){console.log("e"),this.save()}}}),et=t=>((0,a.dD)("data-v-041b359c"),t=t(),(0,a.Cn)(),t),ot=et((()=>(0,a._)("div",{style:{"flex-grow":"1"}},null,-1))),at={class:"meal-title-container"},nt={class:"meal-title"},it={key:0,class:"meal-title-icon"};var rt={__name:"MainView",setup(t){const e=tt();return(t,o)=>{const i=(0,a.up)("font-awesome-icon");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(I,null,{default:(0,a.w5)((()=>[(0,a._)("div",null,"Day "+(0,m.zw)((0,n.SU)(e).day+1)+" / "+(0,m.zw)((0,n.SU)(e).planInfo.days),1),ot,(0,a._)("div",{class:"title-bar-icon",onClick:o[0]||(o[0]=(...t)=>(0,n.SU)(e).goToPreviousDay&&(0,n.SU)(e).goToPreviousDay(...t))},[(0,a.Wm)(i,{icon:"fa-solid fa-chevron-left"})]),(0,a._)("div",{class:"title-bar-icon",onClick:o[1]||(o[1]=(...t)=>(0,n.SU)(e).toggleEditMode&&(0,n.SU)(e).toggleEditMode(...t))},[(0,n.SU)(e).editMode?((0,a.wg)(),(0,a.j4)(i,{key:0,icon:"fa-solid fa-pen-to-square"})):(0,a.kq)("",!0),(0,n.SU)(e).editMode?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(i,{key:1,icon:"fa-regular fa-pen-to-square"}))]),(0,a._)("div",{class:"title-bar-icon",onClick:o[2]||(o[2]=(...t)=>(0,n.SU)(e).goToNextDay&&(0,n.SU)(e).goToNextDay(...t))},[(0,a.Wm)(i,{icon:"fa-solid fa-chevron-right"})])])),_:1}),(0,a.Wm)(C,null,{default:(0,a.w5)((()=>[(0,a.Wm)($,{protein:(0,n.SU)(e).todaysQuantities.protein,fat:(0,n.SU)(e).todaysQuantities.fat,carbs:(0,n.SU)(e).todaysQuantities.carbs,proteinTarget:(0,n.SU)(e).planInfo.protein,fatTarget:(0,n.SU)(e).planInfo.fat,carbsTarget:(0,n.SU)(e).planInfo.carbs},null,8,["protein","fat","carbs","proteinTarget","fatTarget","carbsTarget"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,n.SU)(R),((t,o)=>((0,a.wg)(),(0,a.iD)("div",{key:o},[(0,a._)("div",at,[(0,a._)("div",nt,(0,m.zw)(t),1),(0,n.SU)(e).editMode?((0,a.wg)(),(0,a.iD)("div",it,[(0,a.Wm)(i,{icon:"fa-solid fa-plus"})])):(0,a.kq)("",!0)]),(0,a.Wm)((0,n.SU)(y()),{list:(0,n.SU)(e).todaysFoods[o],tag:"div",group:"foods",change:(0,n.SU)(e).foodDragEnd()},{item:(0,a.w5)((({element:t})=>[(0,a.Wm)(j,{name:t.name,icon:t.icon,description:t.description,protein:t.protein,fat:t.fat,carbs:t.carbs,amount:t.amount,crossed:t.selected,onBodyClick:o=>(0,n.SU)(e).changeFoodSelected(t),onAmountClick:o=>(0,n.SU)(e).changeFoodAmount(t)},null,8,["name","icon","description","protein","fat","carbs","amount","crossed","onBodyClick","onAmountClick"])])),_:2},1032,["list","change"])])))),128))])),_:1}),(0,n.SU)(e).editMode?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"round-button round-button-right",onClick:o[3]||(o[3]=t=>(0,n.SU)(e).recalculateToday())},[(0,a.Wm)(i,{icon:"fa-solid fa-rotate-right"})])):(0,a.kq)("",!0)],64)}}};const st=(0,c.Z)(rt,[["__scopeId","data-v-041b359c"]]);var lt=st;const ct=(0,a._)("div",{style:{"flex-grow":"1"}},null,-1),dt=(0,a._)("div",null,"Plan",-1),ut=(0,a._)("div",{style:{"flex-grow":"1"}},null,-1);var pt={__name:"PlanView",setup(t){return(t,e)=>((0,a.wg)(),(0,a.j4)(I,null,{default:(0,a.w5)((()=>[ct,dt,ut])),_:1}))}};const ft=pt;var gt=ft;const ht=(0,a._)("div",{style:{"flex-grow":"1"}},null,-1),mt=(0,a._)("div",null,"Shopping List",-1),vt=(0,a._)("div",{style:{"flex-grow":"1"}},null,-1);var yt={__name:"ListView",setup(t){return(t,e)=>((0,a.wg)(),(0,a.j4)(I,null,{default:(0,a.w5)((()=>[ht,mt,vt])),_:1}))}};const bt=yt;var _t=bt,wt=o(3494),St=o(7749),It=o(8539),kt=o(8429);const Tt=(0,h.ri)(g),Dt=t=>getComputedStyle(document.body).getPropertyValue(t),Ft=[{path:"/",redirect:{name:"menu"}},{path:"/menu",name:"menu",component:lt},{path:"/plan",name:"plan",component:gt},{path:"/list",name:"list",component:_t}],Ct=(0,i.p7)({history:(0,i.PO)(),routes:Ft});Tt.use(Ct),Tt.use(s.ZP),wt.vI.add(It.A35),wt.vI.add(It._tD),wt.vI.add(It.Wx7),wt.vI.add(It.S6C),wt.vI.add(It.fkH),wt.vI.add(It.mHK),wt.vI.add(It.fT7),wt.vI.add(It.yYj),wt.vI.add(It.$aW),wt.vI.add(It.r8p),wt.vI.add(It.Yai),wt.vI.add(kt.Yai),Tt.component("font-awesome-icon",St.GN);const Ut=(0,Y.WB)();Tt.use(Ut);const xt=tt();xt.load(),xt.fetchData(),Tt.mount("#app")}},e={};function o(a){var n=e[a];if(void 0!==n)return n.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,o),i.exports}o.m=t,function(){var t=[];o.O=function(e,a,n,i){if(!a){var r=1/0;for(d=0;d<t.length;d++){a=t[d][0],n=t[d][1],i=t[d][2];for(var s=!0,l=0;l<a.length;l++)(!1&i||r>=i)&&Object.keys(o.O).every((function(t){return o.O[t](a[l])}))?a.splice(l--,1):(s=!1,i<r&&(r=i));if(s){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[a,n,i]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var a in e)o.o(e,a)&&!o.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,i,r=a[0],s=a[1],l=a[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(l)var d=l(o)}for(e&&e(a);c<r.length;c++)i=r[c],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(d)},a=self["webpackChunkclient"]=self["webpackChunkclient"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(8081)}));a=o.O(a)})();
//# sourceMappingURL=app.80e168ed.js.map